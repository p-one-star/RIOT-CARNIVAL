<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIOT CARNIVAL - EXTRA SPICY v32</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Zen+Kaku+Gothic+New:wght@700;900&family=Zen+Old+Mincho:wght@700;900&family=Mochiy+Pop+P+One&family=Outfit:wght@800&family=Reenie+Beanie&display=swap" rel="stylesheet">
    <style>
        /* --- CORE SETTINGS --- */
        :root {
            /* DAY MODE */
            --bg-base: #1a1a1a;
            --text-color: #f0f0f0;
            --spicy-red: #ff3333;
            --festival-yellow: #ffd700;
            --dark-red: #ff0000;
            --overlay-blend: normal;
            --concrete-opacity: 0.1;
            
            /* Header & UI */
            --header-border: rgba(255,255,255,0.1);
            --header-bg: rgba(0,0,0,0.4);
            --header-icon-border: #fff;
            --header-icon-bg: rgba(255,255,255,0.1);
            
            /* Cards */
            --card-bg: #2a2a2a;
            --card-border: #fff;
            
            /* Effects */
            --neon-glow: none;
            --text-glow: 4px 4px 0px #fff, 0px 0px 20px var(--spicy-red);
            
            /* Image Shadow (Day) */
            --img-drop-shadow: drop-shadow(4px 8px 10px rgba(0,0,0,0.6));
        }

        /* NIGHT MODE */
        body.dark-mode {
            --bg-base: #050505;
            --text-color: #ffffff;
            --spicy-red: #FF00FF;
            --festival-yellow: #00FFFF;
            --dark-red: #9D00FF;
            --overlay-blend: screen;
            --concrete-opacity: 0.05;
            
            /* Header & UI */
            --header-border: #FF00FF;
            --header-bg: rgba(20, 0, 20, 0.8);
            --header-icon-border: #00FFFF;
            --header-icon-bg: rgba(0, 255, 255, 0.1);
            
            /* Cards */
            --card-bg: #000000;
            --card-border: #FF00FF;
            
            /* Neon Effects */
            --neon-glow: 0 0 5px #FF00FF, 0 0 10px #FF00FF, 0 0 20px #FF00FF, 0 0 40px #FF0055;
            --text-glow: 0 0 5px #fff, 0 0 10px #fff, 0 0 20px #FF00FF, 0 0 30px #FF00FF, 0 0 40px #FF00FF;
            
            /* Image Shadow (Night Glow) */
            --img-drop-shadow: drop-shadow(0 0 15px rgba(255, 255, 0, 0.5));
        }

        body {
            background-color: var(--bg-base);
            color: var(--text-color);
            font-family: 'Zen Kaku Gothic New', sans-serif;
            overflow-x: hidden;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        /* --- BACKGROUNDS --- */
        .bg-real-concrete {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%; z-index: -2;
            background-color: var(--bg-base);
            background-image: 
                url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.5' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='var(--concrete-opacity)'/%3E%3C/svg%3E"),
                radial-gradient(circle at 20% 30%, rgba(0,0,0,0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 80%, rgba(0,0,0,0.15) 0%, transparent 50%);
            background-blend-mode: var(--overlay-blend);
            transition: all 0.5s ease;
        }

        body.dark-mode .bg-real-concrete {
            background-image: 
                linear-gradient(rgba(255, 0, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            background-position: center center;
        }

        .heat-haze {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: radial-gradient(circle, transparent 50%, rgba(0, 0, 0, 0.8) 100%),
                        linear-gradient(to bottom, transparent 80%, rgba(255, 0, 255, 0.1) 100%);
            pointer-events: none;
            transition: background 0.5s ease;
        }
        
        body.dark-mode .heat-haze {
            background: radial-gradient(circle, transparent 30%, rgba(0, 0, 0, 0.9) 100%),
                        linear-gradient(to bottom, transparent 60%, rgba(255, 0, 255, 0.2) 100%);
            mix-blend-mode: screen;
        }

        /* --- TYPOGRAPHY --- */
        .font-anton { font-family: 'Anton', sans-serif; }
        .font-bebas { font-family: 'Bebas Neue', cursive; }
        .font-pop { font-family: 'Mochiy Pop P One', sans-serif; }
        .font-outfit { font-family: 'Outfit', sans-serif; }
        .font-hand { font-family: 'Reenie Beanie', cursive; }

        /* --- HEADER STYLES --- */
        header {
            background-color: var(--header-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--header-border);
            transition: all 0.5s;
        }
        body.dark-mode header { box-shadow: 0 0 10px var(--header-border); }

        .fhw-logo {
            font-family: 'Anton', sans-serif;
            font-style: italic;
            color: var(--festival-yellow);
            text-shadow: 2px 2px 0px var(--spicy-red), 4px 4px 0px rgba(0,0,0,0.5);
            font-size: 1.8rem; line-height: 1; pointer-events: none; user-select: none; transition: all 0.5s;
        }
        body.dark-mode .fhw-logo { text-shadow: 0 0 10px var(--festival-yellow), 0 0 20px var(--spicy-red); }

        .header-btn {
            width: 40px; height: 40px;
            border: 2px solid var(--header-icon-border);
            border-radius: 8px;
            background: var(--header-icon-bg);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; cursor: pointer;
            transition: all 0.3s;
            color: var(--text-color);
        }
        body.dark-mode .header-btn { box-shadow: 0 0 8px var(--header-icon-border); text-shadow: 0 0 5px #fff; }
        .header-btn:active { transform: scale(0.95); }
        .header-btn-icon-only {
            border: none; background: transparent; font-size: 2rem;
            filter: drop-shadow(2px 2px 0px rgba(0,0,0,0.2)); box-shadow: none !important;
        }

        /* --- SHORTCUT MENU --- */
        .shortcut-dropdown {
            position: absolute; top: 100%; right: 0; margin-top: 10px;
            background: var(--card-bg); border: 2px solid var(--spicy-red);
            padding: 10px; display: flex; flex-direction: column; gap: 10px;
            box-shadow: 4px 4px 0px var(--spicy-red);
            transform-origin: top right; transform: scale(0); opacity: 0;
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.2s;
            z-index: 100;
        }
        body.dark-mode .shortcut-dropdown { box-shadow: 0 0 15px var(--spicy-red); }
        .shortcut-dropdown.open { transform: scale(1); opacity: 1; }
        .shortcut-item { font-size: 1.8rem; cursor: pointer; transition: transform 0.2s; text-align: center; }
        .shortcut-item:hover { transform: scale(1.2) rotate(10deg); }

        /* --- ANIMATIONS --- */
        @keyframes shiver {
            0% { transform: translate(0, 0); }
            50% { transform: translate(-1px, -1px); }
            100% { transform: translate(0, 0); }
        }
        .animate-shiver { animation: shiver 0.2s infinite linear; }

        /* --- MENU TITLE IMAGE ANIMATION (MODERATE TWIST) --- */
        @keyframes menu-twist {
            0% { transform: rotate(2deg) rotateY(20deg); }
            50% { transform: rotate(2deg) rotateY(-20deg); }
            100% { transform: rotate(2deg) rotateY(20deg); }
        }

        .menu-title-container {
            perspective: 800px;
            margin-top: -80px; 
            margin-bottom: 30px;
            z-index: 20;
        }
        @media (max-width: 768px) {
            .menu-title-container {
                margin-top: -50px;
                margin-bottom: 20px;
            }
        }

        .menu-title-img {
            height: 600px;
            width: auto;
            transition: filter 0.5s ease;
            filter: var(--img-drop-shadow);
            transform-origin: center center;
            animation: menu-twist 6s ease-in-out infinite; 
        }
        @media (max-width: 768px) {
            .menu-title-img {
                height: 450px; 
            }
        }

        /* --- FESTIVAL TITLE --- */
        .festival-red-text {
            color: var(--spicy-red);
            text-shadow: var(--text-glow);
            position: relative; transition: all 0.5s;
        }
        .festival-red-text::before {
            content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0.8;
            color: var(--festival-yellow); z-index: -1; transform: translate(-3px, 0);
            clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%); animation: shiver 2s infinite alternate-reverse; text-shadow: none;
        }
        .festival-red-text::after {
            content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0.8;
            color: var(--dark-red); z-index: -2; transform: translate(3px, 0);
            clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%); animation: shiver 1.5s infinite alternate; text-shadow: none;
        }

        /* --- PLAYFUL TEXT --- */
        .playful-char { display: inline-block; transition: transform 0.2s ease; }
        .playful-char:hover { transform: translateY(-5px) rotate(0deg) !important; color: var(--spicy-red); text-shadow: 0 0 10px var(--spicy-red); }

        /* --- CARDS --- */
        .spicy-border {
            border: 4px solid var(--card-border);
            box-shadow: 6px 6px 0px var(--spicy-red);
            background-color: var(--card-bg);
            transition: all 0.5s ease;
        }
        body.dark-mode .spicy-border { border: 2px solid var(--card-border); box-shadow: var(--neon-glow); }
        .spicy-border:active { transform: translate(3px, 3px); }
        
        .warning-card { background-color: #000 !important; border-color: var(--spicy-red) !important; }
        body.dark-mode .warning-card {
            box-shadow: 0 0 30px var(--dark-red), inset 0 0 20px var(--dark-red) !important;
            border: 2px solid #fff !important;
        }
        .warning-card h3 { color: white !important; }

        .caution-tape {
            background: repeating-linear-gradient(45deg, var(--spicy-red), var(--spicy-red) 10px, var(--black) 10px, var(--black) 20px);
            height: 12px; width: 100%;
        }

        .cyan-line { height: 2px; background-color: var(--accent-cyan); box-shadow: 0 0 5px var(--accent-cyan); }
        body.dark-mode .cyan-line { box-shadow: 0 0 15px var(--accent-cyan); height: 3px; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="pb-20">

    <div class="bg-real-concrete"></div>
    <div class="heat-haze"></div>

    <div class="fixed inset-0 pointer-events-none z-0 overflow-hidden">
        <div class="absolute top-[10%] left-[5%] text-6xl opacity-10 animate-shiver">üå∂</div>
        <div class="absolute top-[40%] right-[10%] text-8xl opacity-10 animate-shiver" style="animation-delay: 0.1s;">üî•</div>
        <div class="absolute bottom-[20%] left-[15%] text-5xl opacity-10 animate-shiver" style="animation-delay: 0.2s;">‚ö°</div>
    </div>

    <!-- HEADER -->
    <header class="fixed top-0 left-0 w-full p-4 md:p-6 flex justify-between items-center z-50">
        <div class="fhw-logo">FHW</div>
        <div class="flex gap-3 items-center">
            <button id="langBtn" class="header-btn" title="Switch Language">üá∫üá∏</button>
            <button id="themeBtn" class="header-btn" title="Toggle Theme">üåô</button>
            <div class="relative">
                <button id="menuBtn" class="header-btn header-btn-icon-only transform hover:rotate-12 transition-transform" title="Menu Shortcuts">üå∂</button>
                <div id="shortcutMenu" class="shortcut-dropdown">
                    <div class="shortcut-item" onclick="scrollToCard(0)">üçî</div>
                    <div class="shortcut-item" onclick="scrollToCard(1)">üç©</div>
                    <div class="shortcut-item" onclick="scrollToCard(2)">ü•û</div>
                    <div class="shortcut-item" onclick="scrollToCard(3)">üåÆ</div>
                    <div class="shortcut-item" onclick="scrollToCard(4)">üêô</div>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto pt-28 md:pt-36 relative z-10">

        <!-- HERO SECTION -->
        <section class="relative px-2 mb-12 flex flex-col items-center text-center">
            <div class="relative w-full mb-8">
                <h1 class="font-anton text-[20vw] md:text-[13rem] leading-[0.8] tracking-tighter festival-red-text relative z-10" data-text="RIOT CARNIVAL">RIOT<br>CARNIVAL</h1>
            </div>
            <div class="flex flex-col items-center space-y-3 w-full max-w-5xl px-2">
                <p id="englishCopy" class="font-outfit text-[1.2rem] sm:text-2xl md:text-5xl font-black w-full text-center tracking-tight leading-none whitespace-nowrap" data-text="Too fast. Too stupid. Too Funky."></p>
                <p id="japaneseCopy" class="font-pop text-[0.8rem] sm:text-sm md:text-xl font-black w-full text-center tracking-wide leading-none whitespace-nowrap" data-text="Â∏∏Ë≠ò„ÅØÁΩÆ„ÅÑ„Å¶„Åç„Åü„ÄÇ„Åù„Çå„Åå„Éó„É≠„Å£„Å¶„ÇÇ„Çì„Å†„ÄÇ"></p>
            </div>
            <div class="mt-16 opacity-70 transform rotate-3 origin-center hover:rotate-0 transition-transform duration-300">
                <p class="font-bebas text-lg md:text-xl border-b-2 border-current inline-block pb-1 tracking-wide">
                    This is a joke. <span class="text-2xl mx-1 animate-pulse inline-block transform rotate-12 drop-shadow-md">üå∂</span> Not a joke.
                </p>
            </div>
        </section>

        <!-- MENU SECTION -->
        <section class="relative py-4 w-full">
            <div class="container mx-auto px-4 mb-2 flex flex-col items-center">
                <div class="relative menu-title-container">
                    <img src="Today.PNG" alt="Êú¨Êó•„ÅÆ„ÅäÂìÅÊõ∏„Åç" class="menu-title-img">
                </div>
            </div>

            <!-- Scroll Container -->
            <div id="scrollContainer" class="flex gap-6 overflow-x-auto no-scrollbar px-6 pb-12 w-full scroll-smooth snap-x snap-mandatory" style="-webkit-overflow-scrolling: touch;">
                <!-- Original 5 Cards -->
                <div class="flex-shrink-0 w-[280px] md:w-[320px] menu-card snap-center">
                    <div class="spicy-border p-4 h-full relative group">
                        <div class="absolute top-2 right-2 w-4 h-4 border-t-2 border-r-2 border-cyan-400"></div>
                        <div class="flex justify-between items-center mb-2 border-b-2 border-current pb-1"><span class="font-bebas text-2xl">NO.01</span><span class="text-xs font-black text-red-600 border border-red-600 px-1 bg-black text-white">SPICY</span></div>
                        <div class="aspect-[4/5] w-full bg-gray-800 mb-4 flex items-center justify-center border-2 border-current overflow-hidden relative isolate">
                            <div class="absolute inset-0 bg-red-900 opacity-40"></div>
                            <div class="text-[7rem] transform group-hover:scale-110 transition-transform duration-100 filter drop-shadow-lg">üçî</div>
                        </div>
                        <h3 class="font-anton text-4xl uppercase leading-none mb-1">Mr.<br><span class="text-red-600">BURGER</span></h3>
                        <div class="flex justify-between items-end mt-4 border-t-4 border-current pt-2"><span class="font-bold text-xs bg-red-600 text-white px-1">PRICE</span><span class="font-anton text-3xl text-red-600 transform -rotate-2">¬•ASK</span></div>
                    </div>
                </div>
                <div class="flex-shrink-0 w-[280px] md:w-[320px] menu-card snap-center">
                    <div class="spicy-border p-4 h-full relative group">
                        <div class="absolute top-2 right-2 w-4 h-4 border-t-2 border-r-2 border-cyan-400"></div>
                        <div class="flex justify-between items-center mb-2 border-b-2 border-current pb-1"><span class="font-bebas text-2xl">NO.02</span><span class="text-xs font-black text-red-600 border border-red-600 px-1 bg-black text-white">DANGER</span></div>
                        <div class="aspect-[4/5] w-full bg-gray-800 mb-4 flex items-center justify-center border-2 border-current overflow-hidden relative"><div class="text-[7rem] transform group-hover:rotate-12 transition-transform duration-200 filter drop-shadow-lg">üç©</div></div>
                        <h3 class="font-anton text-4xl uppercase leading-none mb-1">Dr.<br><span class="text-red-600">DONUT</span></h3>
                        <div class="flex justify-between items-end mt-4 border-t-4 border-current pt-2"><span class="font-bold text-xs bg-red-600 text-white px-1">PRICE</span><span class="font-anton text-3xl text-red-600 transform -rotate-2">¬•ASK</span></div>
                    </div>
                </div>
                <div class="flex-shrink-0 w-[280px] md:w-[320px] menu-card snap-center">
                    <div class="spicy-border p-4 h-full relative group">
                        <div class="absolute top-2 right-2 w-4 h-4 border-t-2 border-r-2 border-cyan-400"></div>
                        <div class="flex justify-between items-center mb-2 border-b-2 border-current pb-1"><span class="font-bebas text-2xl">NO.03</span><span class="text-xs font-black text-red-600 border border-red-600 px-1 bg-black text-white">HOT</span></div>
                        <div class="aspect-[4/5] w-full bg-gray-800 mb-4 flex items-center justify-center border-2 border-current overflow-hidden relative"><div class="text-[7rem] transform group-hover:-translate-y-2 transition-transform duration-200 filter drop-shadow-lg">ü•û</div></div>
                        <h3 class="font-anton text-4xl uppercase leading-none mb-1">CPT.<br><span class="text-red-600">PANCAKE</span></h3>
                        <div class="flex justify-between items-end mt-4 border-t-4 border-current pt-2"><span class="font-bold text-xs bg-red-600 text-white px-1">PRICE</span><span class="font-anton text-3xl text-red-600 transform -rotate-2">¬•ASK</span></div>
                    </div>
                </div>
                <div class="flex-shrink-0 w-[280px] md:w-[320px] menu-card snap-center">
                    <div class="spicy-border p-4 h-full relative group">
                        <div class="absolute top-2 right-2 w-4 h-4 border-t-2 border-r-2 border-cyan-400"></div>
                        <div class="flex justify-between items-center mb-2 border-b-2 border-current pb-1"><span class="font-bebas text-2xl">NO.04</span><span class="text-xs font-black text-red-600 border border-red-600 px-1 bg-black text-white">FIRE</span></div>
                        <div class="aspect-[4/5] w-full bg-gray-800 mb-4 flex items-center justify-center border-2 border-current overflow-hidden relative"><div class="text-[7rem] transform group-hover:scale-125 transition-transform duration-100 filter drop-shadow-lg">üåÆ</div></div>
                        <h3 class="font-anton text-4xl uppercase leading-none mb-1">TACO<br><span class="text-red-600">TORNADO</span></h3>
                        <div class="flex justify-between items-end mt-4 border-t-4 border-current pt-2"><span class="font-bold text-xs bg-red-600 text-white px-1">PRICE</span><span class="font-anton text-3xl text-red-600 transform -rotate-2">¬•ASK</span></div>
                    </div>
                </div>
                <div class="flex-shrink-0 w-[280px] md:w-[320px] menu-card snap-center">
                    <div class="spicy-border warning-card p-4 h-full relative group">
                        <div class="absolute top-0 left-0 w-full caution-tape z-20"></div>
                        <div class="flex justify-between items-center mb-2 border-b-2 border-red-600 pb-1 mt-4"><span class="font-bebas text-2xl text-red-600">NO.05</span><span class="text-xs font-black bg-red-600 text-white px-2 animate-pulse">DO NOT EAT</span></div>
                        <div class="aspect-[4/5] w-full bg-gray-900 mb-4 flex items-center justify-center border-2 border-red-600 overflow-hidden relative"><div class="absolute inset-0 flex items-center justify-center opacity-20 pointer-events-none"><span class="text-9xl">üíÄ</span></div><div class="text-[7rem] transform animate-shiver filter drop-shadow-[0_0_10px_red]">üêô</div></div>
                        <h3 class="font-anton text-4xl uppercase leading-none mb-1">TACO<br><span class="text-red-600">TORNADO</span></h3>
                        <div class="flex justify-between items-end mt-4 border-t-4 border-red-600 pt-2"><span class="font-bold text-xs bg-red-600 text-white px-1">PRICE</span><span class="font-anton text-3xl text-red-600 transform -rotate-2">¬•ASK</span></div>
                    </div>
                </div>
                <div class="flex-shrink-0 w-4 snap-center"></div>
            </div>
        </section>

        <footer class="mt-16 text-center pb-20 relative overflow-hidden">
            <div class="cyan-line w-full mb-8"></div>
            <p class="font-anton text-5xl md:text-8xl opacity-10 select-none transform skew-x-12" style="color: var(--text-color);">FHW PEPPER LINK</p>
            <div class="relative z-10 mt-4 inline-block bg-black text-white px-4 py-1 transform -rotate-1">
                <p class="font-bebas tracking-widest text-lg">RIOT CARNIVAL ¬© 202X</p>
            </div>
        </footer>

    </main>

    <script>
        let isDarkMode = false;
        let isEnglish = false;
        let isMenuOpen = false;

        const themeBtn = document.getElementById('themeBtn');
        const langBtn = document.getElementById('langBtn');
        const menuBtn = document.getElementById('menuBtn');
        const shortcutMenu = document.getElementById('shortcutMenu');
        
        const textElements = { jpCopy: document.getElementById('japaneseCopy'), enCopy: document.getElementById('englishCopy') };
        const texts = { jp: { copy: "Â∏∏Ë≠ò„ÅØÁΩÆ„ÅÑ„Å¶„Åç„Åü„ÄÇ„Åù„Çå„Åå„Éó„É≠„Å£„Å¶„ÇÇ„Çì„Å†„ÄÇ", btn: "üá∫üá∏" }, en: { copy: "Leave common sense behind. That's what pros do.", btn: "üáØüáµ" } };

        themeBtn.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            if(isDarkMode) { document.body.classList.add('dark-mode'); themeBtn.innerText = '‚òÄÔ∏è'; } 
            else { document.body.classList.remove('dark-mode'); themeBtn.innerText = 'üåô'; }
        });

        langBtn.addEventListener('click', () => {
            isEnglish = !isEnglish;
            const current = isEnglish ? texts.en : texts.jp;
            langBtn.innerText = current.btn;
            textElements.jpCopy.setAttribute('data-text', current.copy);
            makePlayful('japaneseCopy');
        });

        menuBtn.addEventListener('click', (e) => { e.stopPropagation(); isMenuOpen = !isMenuOpen; isMenuOpen ? shortcutMenu.classList.add('open') : shortcutMenu.classList.remove('open'); });
        document.addEventListener('click', () => { if(isMenuOpen) { isMenuOpen = false; shortcutMenu.classList.remove('open'); } });
        window.scrollToCard = (index) => { const container = document.getElementById('scrollContainer'); const cards = document.querySelectorAll('.menu-card'); if(cards[index]) { const cardWidth = cards[index].offsetWidth + 24; container.scrollTo({ left: cardWidth * index, behavior: 'smooth' }); } };

        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('scrollContainer');
            let scrollInterval;
            let isUserInteracting = false;
            let interactionTimeout;

            // --- INFINITE SCROLL SETUP ---
            const setupInfiniteScroll = () => {
                const originalCards = Array.from(container.querySelectorAll('.menu-card'));
                // Clone cards to create loop buffer
                originalCards.forEach(card => {
                    const clone = card.cloneNode(true);
                    container.appendChild(clone);
                });
            };
            setupInfiniteScroll();

            // --- AUTO SCROLL LOOP ---
            const startAutoScroll = () => {
                if (scrollInterval) clearInterval(scrollInterval);
                scrollInterval = setInterval(() => {
                    if (isUserInteracting) return;
                    
                    const card = container.querySelector('.menu-card');
                    if (!card) return;
                    
                    const itemWidth = card.offsetWidth + 24; // Width + gap
                    const currentScroll = container.scrollLeft;
                    
                    // Logic to jump back seamlessly if we are deep into the cloned section
                    // We have 5 original cards. If we passed index 4, we might be at index 5 (first clone)
                    // If we are at index 5 (start of clones), we can jump to index 0 (start of originals) instantly without user noticing
                    // But to animate continuously, we check if we are at the end of originals
                    
                    const totalOriginalWidth = itemWidth * 5; 
                    
                    if (currentScroll >= totalOriginalWidth) {
                        // If we are showing clones, snap back to original corresponding position instantly
                        container.style.scrollBehavior = 'auto'; // Disable smooth for jump
                        container.scrollLeft = currentScroll - totalOriginalWidth;
                        // Force reflow
                        container.offsetHeight; 
                        container.style.scrollBehavior = 'smooth'; // Re-enable smooth
                        
                        // Then scroll to next
                        const nextPos = container.scrollLeft + itemWidth;
                        container.scrollTo({ left: nextPos, behavior: 'smooth' });
                    } else {
                        // Normal forward scroll
                        const nextPos = currentScroll + itemWidth;
                        container.scrollTo({ left: nextPos, behavior: 'smooth' });
                    }
                    
                }, 4500); 
            };

            container.addEventListener('mouseenter', () => { isUserInteracting = true; if(interactionTimeout) clearTimeout(interactionTimeout); });
            container.addEventListener('mouseleave', () => { isUserInteracting = false; });

            const handleTouchInteraction = () => {
                isUserInteracting = true;
                if(interactionTimeout) clearTimeout(interactionTimeout);
                interactionTimeout = setTimeout(() => { isUserInteracting = false; }, 3000);
            };

            container.addEventListener('touchstart', handleTouchInteraction, {passive: true});
            container.addEventListener('mousedown', handleTouchInteraction);
            container.addEventListener('wheel', handleTouchInteraction, {passive: true});

            startAutoScroll();

            window.makePlayful = (elementId) => {
                const element = document.getElementById(elementId);
                const text = element.getAttribute('data-text');
                element.innerHTML = '';
                [...text].forEach((char) => {
                    const span = document.createElement('span');
                    span.innerText = char;
                    span.classList.add('playful-char');
                    if (char.trim() === '') { span.style.width = '0.5em'; } 
                    else {
                        const rotate = Math.floor(Math.random() * 6) - 3; const translateY = Math.floor(Math.random() * 3) - 1.5; const scale = 1.0 + Math.random() * 0.1;
                        span.style.transform = `rotate(${rotate}deg) translateY(${translateY}px) scale(${scale})`;
                        if (['.', '„ÄÇ', '„ÄÅ', '!'].includes(char)) { span.style.color = 'var(--spicy-red)'; span.style.fontWeight = '900'; span.style.transform = `rotate(${rotate}deg) scale(1.3)`; }
                    }
                    element.appendChild(span);
                });
            };
            makePlayful('englishCopy'); makePlayful('japaneseCopy');
        });
    </script>
</body>
</html>

